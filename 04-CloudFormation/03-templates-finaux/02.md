Parfait, voici un **rÃ©sumÃ© clair, Ã©tape par Ã©tape**, **dans lâ€™ordre exact de lâ€™atelier guidÃ© Module 10** avec les **fichiers `lab-network.yaml`, `lab-application.yaml`, et `lab-application2.yaml`** et toutes les **commandes AWS CLI** Ã  utiliser.

---

## ðŸŸ© **TÃ¢che 1 â€” DÃ©ploiement de la couche rÃ©seau**

### ðŸ”¹ Ã‰tapes

1. CrÃ©er le fichier `lab-network.yaml` (fourni plus haut)
2. Depuis AWS CLI :

```bash
aws cloudformation create-stack \
  --stack-name lab-network \
  --template-body file://lab-network.yaml \
  --tags Key=application,Value=inventory \
  --capabilities CAPABILITY_NAMED_IAM
```

3. Attendre `CREATE_COMPLETE`
4. VÃ©rifier les **sorties** : `VPC`, `PublicSubnet` avec leurs **Export Names**

---

## ðŸŸ© **TÃ¢che 2 â€” DÃ©ploiement de la couche application**

### ðŸ”¹ Ã‰tapes

1. CrÃ©er le fichier `lab-application.yaml` (version initiale, HTTP uniquement)
2. Commande :

```bash
aws cloudformation create-stack \
  --stack-name lab-application \
  --template-body file://lab-application.yaml \
  --parameters ParameterKey=NetworkStackName,ParameterValue=lab-network \
  --tags Key=application,Value=inventory \
  --capabilities CAPABILITY_NAMED_IAM
```

3. Attendre `CREATE_COMPLETE`
4. Aller dans l'onglet **Sorties**, copier lâ€™IP publique, ouvrir dans un navigateur : `http://<IP>`

---

## ðŸŸ© **TÃ¢che 3 â€” Mise Ã  jour de la pile application (ajout SSH)**

### ðŸ”¹ Ã‰tapes

1. Remplacer le modÃ¨le par `lab-application2.yaml` (version avec port 22)
2. Commande :

```bash
aws cloudformation update-stack \
  --stack-name lab-application \
  --template-body file://lab-application2.yaml \
  --parameters ParameterKey=NetworkStackName,ParameterValue=lab-network \
  --capabilities CAPABILITY_NAMED_IAM
```

3. Attendre `UPDATE_COMPLETE`
4. VÃ©rifier dans EC2 > Groupes de sÃ©curitÃ© : le port **22 TCP** doit maintenant Ãªtre autorisÃ©

---

## ðŸŸ© **TÃ¢che 4 â€” Exploration avec CloudFormation Designer**

### ðŸ”¹ Ã‰tapes

1. Aller dans Console > CloudFormation > Designer
2. Cliquer sur **Fichier > Ouvrir > Fichier local**
3. Choisir `lab-application2.yaml`
4. Explorer la structure graphique des ressources

---

## ðŸŸ© **TÃ¢che 5 â€” Suppression de la pile avec snapshot**

### ðŸ”¹ Ã‰tapes

1. Ajouter cette ressource Ã  `lab-application2.yaml` avant suppression :

```yaml
  DiskVolume:
    Type: AWS::EC2::Volume
    Properties:
      Size: 100
      AvailabilityZone: !GetAtt WebServerInstance.AvailabilityZone
      Tags:
        - Key: Name
          Value: Web Data
    DeletionPolicy: Snapshot
```

2. Puis supprimer la pile :

```bash
aws cloudformation delete-stack --stack-name lab-application
```

3. VÃ©rifier dans EC2 > **Snapshots** quâ€™un instantanÃ© EBS a bien Ã©tÃ© crÃ©Ã©

---

Souhaites-tu maintenant que je te fournisse les **trois fichiers YAML complets finaux dans un `.zip` prÃªt Ã  utiliser** ?
